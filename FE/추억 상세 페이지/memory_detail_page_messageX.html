<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>추억 상세 페이지-댓글X</title>
    <link rel="stylesheet" href="memory_detail_page_messageX.css">
    <link href="https://spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <div class="container2">
    <div class="header2">
        <img src="img/logo.png" alt="Centered Image" class="center-image2">
    </div>
  </div>   
  <div class="detail_card">
    <div class="card-content">
        <div class="information">
          <p><span class="date">달봉이아들&nbsp; </span> &nbsp;| &nbsp;<span class="status">  &nbsp;공개</span>
            <div class="info-buttons">
              <!-- 추억 수정하기를 누르면 팝업창 뜨도록 설정 -->
              <a href="#" onclick="showPopup(); return false;">추억 수정하기</a>
              <a class="delete" href="#" onclick="showDeletePopup(); return false;">추억 삭제하기</a>
             </div>
          </p>
        </div>
        <div class="info">
          <h2>인천 앞바다에서 무려 60cm 월척을 낚다!</h2>
        </div>
      <a>#인천&nbsp;&nbsp;#낚시</a>
      <div class="card-content2">
        <div class="info2">
            <div class="info-item3">
                <span>인천 앞바다&nbsp;</span><span>&nbsp;•&nbsp;&nbsp;</span><span>24.01.19</span>
            </div>
            <div class="num1"><img src="img/flower.png" alt="꽃">120</div>
            <div class="num2"><img src="img/talk.png" alt="말풍선">8</div>
            <div class="badge">
                <button class="like-button" id="likeBtn">
                    <img class="flower" src="img/flower.png" alt="꽃">공감 보내기
                </button>
            </div>
        </div>
    </div>
    <div class="flower-container" id="flowerContainer"></div> <!-- 꽃 이미지가 나타날 컨테이너 -->
    </div>
  </div>
  <script>
    document.getElementById("likeBtn").addEventListener("click", function() {
        const flowerContainer = document.getElementById("flowerContainer");
        const containerWidth = 50; // 꽃이 분포할 최대 너비
        const containerHeight = 90; // 꽃이 분포할 최대 높이

        for (let i = 0; i < 8; i++) { // 꽃 이미지 20개 생성
            const flower = document.createElement("img");
            flower.src = "img/flower.png";
            flower.className = "flower-image";
            
            // 꽃 이미지를 버튼 위쪽에 넓게 분포시킴
            flower.style.left = `${Math.random() * containerWidth - containerWidth / 2}px`; 
            flower.style.top = `${Math.random() * containerHeight - containerHeight / 2}px`; 
            
            // 불투명도 조정
            if (i % 2 === 0) {
                flower.style.opacity = 0.2; // 일부 꽃을 불투명하게 설정
            }
            
            flowerContainer.appendChild(flower);

            setTimeout(() => {
                flower.remove(); // 애니메이션 후 이미지 제거
            }, 600);
        }
        });
    </script>

  <hr style="border: 1px solid #DDDDDD; width: 75%;">

  <!-- 추억 수정하기 팝업창 -->
<div class="popup-background" id="popup-background">
    <div class="popup-content">
        <div class="container3">
            <div class="top-content">
                <h1 class="center-text">추억 수정하기</h1>
                <img src="img/X.png" class="close-icon" onclick="hidePopup()">
            </div>
            <div class="input-wrapper-container">
                <!-- Left Column (Original Content) -->
                <div class="input-wrapper">
                    <label for="group-name" class="group-name-label">닉네임</label>
                    <input type="text" id="group-name" class="group-name-input" placeholder="닉네임을 입력해 주세요.">
                    
                    <label for="group-name" class="group-name-label">제목</label>
                    <input type="text" id="group-name" class="group-name-input" placeholder="제목을 입력해 주세요.">

                    <label for="representative-image" class="group-name-label">이미지</label>
                    <div class="file-upload-wrapper">
                        <input type="text" id="representative-image" class="file-name-input" placeholder="파일을 선택해 주세요." readonly>
                        <label for="file-upload" class="file-upload-button">파일 선택</label>
                        <input type="file" id="file-upload" class="file-input">
                    </div>

                    <label for="group-description" class="group-name-label">본문</label>
                    <textarea id="group-description" class="group-description-input" placeholder="본문 내용을 입력해 주세요."></textarea>
                </div>
                
                <!-- Divider -->
                <div class="divider"></div>

                <!-- Right Column (Duplicated Content) -->
                <div class="input-wrapper">
                    <label for="group-name-2" class="group-name-label">태그</label>
                    <input type="text" id="group-name-2" class="group-name-input" placeholder="태그를 입력해 주세요.">
                    <div class="hash-tag">
                        <p>
                            <span>#낚시&nbsp;</span>
                            <span>X&nbsp;&nbsp;</span>
                            <span>#인천&nbsp;</span>
                            <span>X&nbsp;&nbsp;</span>
                            <span>#바다낚시&nbsp;</span>
                            <span>X&nbsp;&nbsp;</span>
                            <span>#꽃&nbsp;</span>
                            <span>X&nbsp;&nbsp;</span>
                            <span>#취미&nbsp;</span>
                            <span>X&nbsp;&nbsp;</span>
                            <span>#추천&nbsp;</span>
                            <span>X&nbsp;&nbsp;</span>
                            <span>#여행&nbsp;</span>
                            <span>X&nbsp;&nbsp;</span>
                        </p>
                    </div>
                    
                    <label for="group-name-2" class="group-name-label">장소</label>
                    <input type="text" id="group-name-2" class="group-name-input" placeholder="장소를 입력해 주세요.">

                    <label for="date-picker" class="group-name-label">추억의 순간</label>
                    <input type="date" id="date-picker" class="date-picker-input" placeholder="yyyy-mm-dd">

                
                    <label for="group-visibility-2" class="group-name-label">추억 공개 선택</label>
                    <div class="visibility-wrapper">
                        <span id="visibility-text-2" class="visibility-text">공개</span>
                        <img id="visibility-icon-2" src="img/state=active.png" alt="Visibility Icon" class="visibility-icon">
                    </div>
                
                    <label for="group-password-2" class="group-name-label">비밀번호 생성</label>
                    <input type="password" id="group-password-2" class="group-name-input" placeholder="추억 비밀번호를 생성해 주세요.">
                </div>
            </div>

            <button class="submit-button2" id="create-group-button">수정하기</button>
            
        </div>
    </div>
</div>

    <div class="popup-background" id="delete-popup-background">
        <div class="popup-content2">
            <div class="container4">
                <div class="top-content">
                    <h1 class="center-text">추억 삭제</h1>
                    <img src="img/X.png" class="close-icon" onclick="hideDeletePopup()">
                </div>
                <div class="input-wrapper">
                    <label for="delete-password" class="group-name-label">삭제 권한 인증</label>
                    <input type="password" id="delete-password" class="group-name-input" placeholder="추억 비밀번호를 입력해 주세요.">
                </div>
            </div>
            <button class="popup-close" onclick="hideDeletePopup()">삭제하기</button>
        </div>
    </div>

    <!-- 댓글 등록하기 팝업 -->
    <div id="RegisteringPopup" class="popup-overlay">
        <div class="popup-inner-content">
            <div class="top-content">
                <h2>댓글 등록</h2>
                <img src="img/X.png" class="close-icon" onclick="hideRegisteringPopup()"> <!-- 이미지 클릭 시 팝업 닫기 -->
            </div>
            <div class="center-content">
                <div class="input-wrapper4">
                    <label for="group-name" class="group-name-label">닉네임</label>
                    <input type="text" id="group-name" class="group-name-input" placeholder="닉네임을 입력해 주세요.">
        
                    <label for="group-description" class="group-name-label">댓글</label>
                    <textarea id="group-description" class="group-description-input" placeholder="댓글을 입력해 주세요."></textarea>
        
                    <label for="group-password-2" class="group-name-label">수정 권한 인증</label>
                    <input type="password" id="group-password-2" class="group-name-input" placeholder="댓글 비밀번호를 생성해 주세요.">
                </div>
                <button class="submit-button2" id="create-group-button">등록하기</button>
            </div>
        </div>
    </div>

    <div class="main-content">
        <img src="img/image=img4.jpg">
        <p>
            인천 앞바다에서 월척을 낚았습니다!<br>
            가족들과 기억에 오래도록 남을 멋진 하루였어요 가족들과 기억에 오래도록 남을 멋진 하루였어요 가족들과 기억에 오래도록 남을 멋진 하루였어요<br>
            <br>
            인천 앞바다에서 월척을 낚았습니다!<br>
            가족들과 기억에 오래도록 남을 멋진 하루였어요<br>
            <br>
            인천 앞바다에서 월척을 낚았습니다!<br>
        </p>
        <button class="load-more" onclick="messageRegisteringPopup()">댓글 등록하기</button>
    </div>

    <div class="message-box">
        <p>댓글&nbsp;0</p>
        <hr style="border: 1px solid #b8b8b8; width: 75%;">
        <div class="message">
            <h2>등록된 댓글이 없습니다.</h2>
            <P>가장 먼저 댓글을 등록해보세요!</P>
        </div>
    </div>

    <script>
        // 댓글 등록 팝업을 여는 함수
        function messageRegisteringPopup() {
            document.getElementById('RegisteringPopup').style.display = 'flex';
        }

        // 댓글 등록 팝업을 닫는 함수
        function hideRegisteringPopup() {
            document.getElementById('RegisteringPopup').style.display = 'none';
        }
        // 팝업 외부를 클릭하면 닫기
        window.onclick = function(event) {
            if (event.target.classList.contains('popup-overlay')) {
                document.querySelectorAll('.popup-overlay').forEach(function(overlay) {
                    overlay.style.display = 'none';
                });
            }
        };
    </script>

    <!-- 팝업을 열고 닫는 스크립트 -->
    <script>
        function showPopup() {
            document.getElementById('popup-background').style.display = 'flex';
        }

        function hidePopup() {
            document.getElementById('popup-background').style.display = 'none';
        }
        function showDeletePopup() {
            document.getElementById('delete-popup-background').style.display = 'flex';
        }

        function hideDeletePopup() {
            document.getElementById('delete-popup-background').style.display = 'none';
        }
    </script>
    <script>
        // JavaScript for toggling visibility
        const visibilityText = document.getElementById('visibility-text-2'); // 올바른 ID 사용
        const visibilityIcon = document.getElementById('visibility-icon-2'); // 올바른 ID 사용

        let isPublic = true; // Initial state is public

        function toggleVisibility() {
        if (isPublic) {
            visibilityText.textContent = '비공개';
            visibilityIcon.src = 'img/state=default.png'; // 변경할 비공개 이미지 경로
        } else {
            visibilityText.textContent = '공개';
            visibilityIcon.src = 'img/state=active.png'; // 원래 공개 이미지 경로
        }
        isPublic = !isPublic; // Toggle state
        }

        visibilityIcon.addEventListener('click', toggleVisibility);
    </script>
    <script>
        const inputs = document.querySelectorAll('.group-name-input, .group-description-input, .file-name-input');
  
        inputs.forEach(input => {
            input.addEventListener('click', () => {
                input.classList.add('clicked');
            });
        });
    </script>
</body>
